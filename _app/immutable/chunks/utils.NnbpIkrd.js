import"./index.SmlBE_ep.js";import{w as r}from"./index.k4NgJSeb.js";const C=r([]),L=r({}),S=r({}),T=r({}),f=r(""),p=r("search"),c=r(new Set),E=r([]),y="false",d=y.toLowerCase()==="true",u=d?"/Closing-The-Gap-In-Non-Latin-Script-Data/archive":"https://raw.githubusercontent.com/M-L-D-H/Closing-The-Gap-In-Non-Latin-Script-Data/master";async function R(a){const e=Object.keys(a),n=await(await fetch(`${u}/KEYWORDS/KEYWORDS.json`)).json();for(const[t,s]of Object.entries(n)){n[t]=s.sort();for(const i of s)e.includes(i)||(n[t]=n[t].filter(w=>w!==i))}return n}async function $(a){if(d)return await(await fetch(`${u}/ENTRIES.json`)).json();const e=Object.entries(a),o=[];for(const[t,s]of e)o.push(`${u}${s.path}${t}.json`);let n=await Promise.all(o.map(async t=>{const i=await(await fetch(t)).json();return[t,i]}));return n=n.sort((t,s)=>g(t[1],s[1])),n}async function A(){const e=await(await fetch(`${u}/PROJECTS.json`)).json();return[Object.keys(e).length,e]}async function O(){return await(await fetch(`${u}/TEMPLATES/project.json`)).json()}function _(a){return a.filter(e=>e.place_name.text)}function D(a){const e={};for(const[o,n]of a){const t=n.project.keywords;for(const s of t)e[s]?e[s].push(o):e[s]=[o]}return e}function M(a){const e={};for(const[o,n]of a){const t=n.project.research_data.lang;for(const s of t)e[s]?e[s].push(o):e[s]=[o]}return e}function P(){if(window.location.hash)if(window.location.hash.startsWith("#keywords=")){p.set("keywords");const e=window.location.hash.split("keywords=")[1].split(",");c.set(new Set(e))}else if(window.location.hash.startsWith("#languages=")){p.set("languages");const e=window.location.hash.split("languages=")[1].split(",");c.set(new Set(e))}else f.set(""),c.set(new Set);else f.set(""),c.set(new Set)}function x(){f.set(""),c.set(new Set),window.location.hash=""}function H(a,e){const o=e.toLowerCase(),n=[];for(const[t,s]of a){if(s.project.title.toLowerCase().includes(o)){n.push([t,s]);continue}if(s.project.abbr.toLowerCase().includes(o)){n.push([t,s]);continue}if(s.project.project_desc.toLowerCase().includes(o)){n.push([t,s]);continue}if(s.project.keywords.join(" ").includes(o)){n.push([t,s]);continue}let l="";for(const h of s.project.places)h.place_name.text&&(l+=h.place_name.text.toLowerCase(),l+=" ");if(l=l.trim(),l.includes(o)){n.push([t,s]);continue}}return n}function g(a,e){const o=a.project.title.toLowerCase(),n=e.project.title.toLowerCase();return o>n?1:o<n?-1:0}function I(a,e){c.update(t=>(t.has(e)?t.delete(e):t.add(e),t));let o=[];if(c.subscribe(t=>{o=Array.from(t)}),o.length===0){window.location.hash="";return}const n=o.join(",");window.location.hash=`#${a}=${n}`}export{p as a,c as b,H as c,E as d,C as e,S as f,A as g,P as h,$ as i,D as j,L as k,T as l,R as m,M as n,_ as o,O as p,x as r,f as s,I as u};
