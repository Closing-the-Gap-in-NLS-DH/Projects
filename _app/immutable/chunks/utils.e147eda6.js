import"./index.15dcdf50.js";import{w as r}from"./index.72eee438.js";const b=r([]),m=r({}),L=r({}),C=r({}),u=r(""),d=r("search"),c=r(new Set),S=r([]),h="https://raw.githubusercontent.com/M-L-D-H/Closing-The-Gap-In-Non-Latin-Script-Data/master";async function T(a){const t=Object.keys(a),o=await(await fetch("https://raw.githubusercontent.com/M-L-D-H/Closing-The-Gap-In-Non-Latin-Script-Data/master/KEYWORDS/KEYWORDS.json")).json();for(const[e,s]of Object.entries(o)){o[e]=s.sort();for(const i of s)t.includes(i)||(o[e]=o[e].filter(w=>w!==i))}return o}async function D(a){const t=Object.entries(a),n=[];for(const[e,s]of t)n.push(`${h}${s.path}${e}.json`);let o=await Promise.all(n.map(async e=>{const i=await(await fetch(e)).json();return[e,i]}));return o=o.sort((e,s)=>p(e[1],s[1])),o}async function E(){const t=await(await fetch(`${h}/PROJECTS.json`)).json();return[Object.keys(t).length,t]}function O(a){return a.filter(t=>t.place_name.text)}function M(a){const t={};for(const[n,o]of a){const e=o.project.keywords;for(const s of e)t[s]?t[s].push(n):t[s]=[n]}return t}function $(a){const t={};for(const[n,o]of a){const e=o.project.research_data.lang;for(const s of e)t[s]?t[s].push(n):t[s]=[n]}return t}function x(){if(window.location.hash)if(window.location.hash.startsWith("#keywords=")){d.set("keywords");const t=window.location.hash.split("keywords=")[1].split(",");c.set(new Set(t))}else if(window.location.hash.startsWith("#languages=")){d.set("languages");const t=window.location.hash.split("languages=")[1].split(",");c.set(new Set(t))}else u.set(""),c.set(new Set);else u.set(""),c.set(new Set)}function H(){u.set(""),c.set(new Set),window.location.hash=""}function K(a,t){const n=t.toLowerCase(),o=[];for(const[e,s]of a){if(s.project.title.toLowerCase().includes(n)){o.push([e,s]);continue}if(s.project.abbr.toLowerCase().includes(n)){o.push([e,s]);continue}if(s.project.project_desc.toLowerCase().includes(n)){o.push([e,s]);continue}if(s.project.keywords.join(" ").includes(n)){o.push([e,s]);continue}let l="";for(const f of s.project.places)f.place_name.text&&(l+=f.place_name.text.toLowerCase(),l+=" ");if(l=l.trim(),l.includes(n)){o.push([e,s]);continue}}return o}function p(a,t){const n=a.project.title.toLowerCase(),o=t.project.title.toLowerCase();return n>o?1:n<o?-1:0}function R(a,t){c.update(e=>(e.has(t)?e.delete(t):e.add(t),e));let n=[];if(c.subscribe(e=>{n=Array.from(e)}),n.length===0){window.location.hash="";return}const o=n.join(",");window.location.hash=`#${a}=${o}`}export{d as a,c as b,K as c,S as d,b as e,L as f,E as g,x as h,D as i,M as j,m as k,C as l,T as m,$ as n,O as o,H as r,u as s,R as u};
