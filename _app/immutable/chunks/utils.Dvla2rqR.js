import"./index.DEYurCxZ.js";import{w as d}from"./index.DDQ4VDGk.js";const f=d(""),p=d("search"),r=d(new Set),S=d([]),w=["african_studies","arabic_studies","archaeology","art_studies","cultural_studies","dialectology","epigraphy","egyptology","geography","history_studies","iranian_studies","islamic_studies","jewish_studies","lexicography","linguistics","literary_studies","medicine_history","music_studies","philosophy","religion_studies","science_history","semitic_studies","translation_studies","turkology"],g=["biographical_data","classical_text","computational_text_analysis","digital_preservation","digital_publishing","e_learning","hadith","isnad","language_documentation","nahda","pre_islamic_arabia","religious_text","research_data_management","research_infrastructure","text_reuse"],y=["audio","catalog","collaboration_platform","corpus_output","digital_edition","encyclopedia","htr","image","lexicon","map","ocr","translation","video","visualization","vre"],_=["corpus_resource","geodata","inscription","manuscript","other"],m=["annotation","nlp","network_analysis","machine_learning","stylometry","tei"],k={discipline:w,topic:g,output:y,resources:_,methods:m};function L(i){const e=Object.keys(i),t=k;for(const[n,o]of Object.entries(t)){t[n]=o.sort();for(const s of o)e.includes(s)||(t[n]=t[n].filter(c=>c!==s))}return t}function C(i){return i.filter(e=>e.place_name.text)}function v(i,e,t){if(e!=="keywords"||t.size===0)return new Set;const n=new Set;let o=!0;for(const c of t){const l=i[c];if(o){l.forEach(a=>n.add(a)),o=!1;continue}for(const a of n)l.includes(a)||n.delete(a)}const s=new Set;e:for(const[c,l]of Object.entries(i)){for(const a of l)if(n.has(a))continue e;s.add(c)}return s}function A(i){const e={};for(const[t,n]of i){const o=n.project.keywords;for(const s of o)e[s]?e[s].push(t):e[s]=[t]}return e}function K(i){const e={};for(const[t,n]of i){const o=n.project.research_data.lang;for(const s of o)e[s]?e[s].push(t):e[s]=[t]}return e}function E(){if(window.location.hash)if(window.location.hash.startsWith("#keywords=")){p.set("keywords");const e=window.location.hash.split("keywords=")[1].split(",");r.set(new Set(e))}else if(window.location.hash.startsWith("#languages=")){p.set("languages");const e=window.location.hash.split("languages=")[1].split(",");r.set(new Set(e))}else f.set(""),r.set(new Set);else f.set(""),r.set(new Set)}function H(){f.set(""),r.set(new Set),window.location.hash=""}function O(i,e){const t=e.toLowerCase(),n=[];for(const[o,s]of i){if(s.project.title.toLowerCase().includes(t)){n.push([o,s]);continue}if(s.project.abbr.toLowerCase().includes(t)){n.push([o,s]);continue}if(s.project.project_desc.toLowerCase().includes(t)){n.push([o,s]);continue}if(s.project.keywords.join(" ").includes(t)){n.push([o,s]);continue}let u="";for(const h of s.project.places)h.place_name.text&&(u+=h.place_name.text.toLowerCase(),u+=" ");if(u=u.trim(),u.includes(t)){n.push([o,s]);continue}}return n}function T(i,e){r.update(o=>(o.has(e)?o.delete(e):o.add(e),o));let t=[];if(r.subscribe(o=>{t=Array.from(o)}),t.length===0){window.location.hash="";return}const n=t.join(",");window.location.hash=`#${i}=${n}`}export{p as a,r as b,v as c,O as d,S as e,C as f,A as g,L as h,K as i,E as j,H as r,f as s,T as u};
